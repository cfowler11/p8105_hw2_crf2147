---
title: "Homework 2"
author: "Charlotte Fowler"
date: "9/28/2019"
output: github_document
---

```{r}
library(tidyverse)
library(readxl)
```


#Problem 1
```{r}
#reading in relevant data from sheet 1
trash_wheel = 
  read_excel("data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 
                         sheet = 'Mr. Trash Wheel',
                         range = "A2:N338") %>% 
  #creating better variable names
  janitor::clean_names() %>%  
  #drop rows with na in dumpster
  drop_na(dumpster)

#reading in 2017 data
precip_2017 =
  read_excel("data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 
                         sheet = '2017 Precipitation',
                         range = "A2:B15") %>%
  janitor::clean_names() %>% 
  drop_na('month') %>% 
  mutate(year = 2017)

#reading in 2018 data
precip_2018 =
  read_excel("data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 
                         sheet = '2018 Precipitation',
                         range = "A2:B15") %>%
  janitor::clean_names() %>% 
  drop_na('month','total') %>% 
  mutate(year = 2018)
```

```{r}
#combining 2017 and 2018 data
precipitation = 
  bind_rows(precip_2017, precip_2018) %>% 
 # mutate(month = replace(month.name)) (????)
```
Write up??


#Problem 2

First, clean the data in pols-month.csv. Use separate() to break up the variable mon into integer variables year, month, and day; 

replace month number with month name; 

create a president variable taking values gop and dem, 

remove  prez_dem and prez_gop; and remove the day variable
```{r}
#reading and cleaning pols_month
pols_month = 
  read_csv("data/pols-month.csv") %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  #code to change month to character (????)
  mutate(president = ifelse(prez_gop == 1, "republican", "democrat")) %>% 
  select(-prez_dem, -prez_gop, -day)
```
Second, clean the data in snp.csv using a similar process to the above. For consistency across datasets, arrange according to year and month, and organize so that year and month are the leading columns.

```{r}
#reading in and cleaning snp data
snp = 
  read_csv("data/snp.csv") %>% 
  separate(date, into = c("month", "day", "year")) %>% 
  #code to change month to character (????)
  select(year, month, close) %>% 
  arrange(year, month)
```

tidy the unemployment data so that it can be merged with the previous datasets:
switching from “wide” to “long” format; 
ensuring that key variables have the same name;
ensuring that key variables take the same values.
```{r}
unemployment = 
  read_csv("data/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment"
  ) %>% 
  #code to change month to be compatible
```


